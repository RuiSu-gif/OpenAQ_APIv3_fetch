OpenAQ-AWS Athena获取教程
========================================

1. 创建 S3 存储桶：在 AWS 控制台搜索 “S3”，创建用于存储结果的 Bucket；地区与账号一致，建议 us-east-1（OpenAQ 数据所在区）。
2. 创建数据库：在 Athena 控制台执行 `CREATE DATABASE IF NOT EXISTS openaq_db;`，用于保存元数据和查询历史。
3. 建立分区表并全量扫描：按官方教程创建分区表，对全量 OpenAQ 数据做一次扫描以降低后续查询成本（示例耗时约 4.5 小时）。
4. 创建结果表：在 S3 Bucket 下建一个结果表（如 `daily_aq_stats`）存放后续计算结果。
5. SQL 计算指标（核心）：在 Athena 直接计算并写入结果表，避免下载原始数据。常用指标包括 PM2.5 日均 (`pm25_daily_avg`)、臭氧 MDA8（每日最大 8 小时平均，`o3_mda8`）、臭氧日最大 1 小时 (`o3_max_1h`)。每年查询耗时约 5–8 分钟。
6. 导出 CSV：用 SQL 查询结果表并导出 CSV，单年下载约 5–10 秒。